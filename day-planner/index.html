<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Daily Planner</title>
  <script>
    window.tailwind = window.tailwind || {};
    window.tailwind.config = {
      darkMode: 'class',
      theme: { extend: {} }
    };
  </script>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --accent: #7dd3fc;
    }

    /* glass effect adapts to theme */
    .glass{
      background: linear-gradient(180deg, rgba(255,255,255,0.72), rgba(255,255,255,0.5));
      color: #0f172a;
      backdrop-filter: blur(6px) saturate(1.05);
    }
    [data-theme="dark"] .glass{
      background: linear-gradient(180deg, rgba(2,6,23,0.64), rgba(2,6,23,0.45));
      color: #f8fafc;
    }

    .diagonal::before{
      content: '';
      position: absolute;
      left: -10%; top: -6%;
      width: 140%; height: 55%;
      transform: rotate(-7deg);
      background: linear-gradient(90deg, rgba(250,224,184,0.95) 0%, rgba(250,224,184,0.6) 40%, transparent 60%);
      border-bottom-right-radius: 40px;
      filter: drop-shadow(0 10px 30px rgba(2,6,23,0.18));
      z-index: 1;
    }

    @keyframes floaty { 0% { transform: translateY(0) } 50% { transform: translateY(-6px) } 100% { transform: translateY(0) } }
    @keyframes popIn { from { transform: scale(.95); opacity:0 } to { transform: scale(1); opacity:1 } }

    .planner-scroll::-webkit-scrollbar{ width:8px }
    .planner-scroll::-webkit-scrollbar-thumb{ background: linear-gradient(180deg,var(--accent), #60a5fa); border-radius:9999px }

    .focus-ring:focus{ outline: 3px solid rgba(99,102,241,0.15); outline-offset: 3px; }

  </style>
</head>
<body class="antialiased text-slate-800 bg-gradient-to-b from-slate-50 to-white dark:text-slate-100 dark:from-slate-900 dark:to-slate-800" data-theme="light">
  <div id="app" class="min-h-screen flex flex-col md:flex-row">
    <!-- Left hero column -->
    <aside class="relative w-full md:w-1/3 lg:w-1/4 p-6 md:p-8 overflow-hidden diagonal">
      <div class="absolute inset-0 bg-cover bg-center" style="background-image:url('https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=1200&q=60')"></div>
      <div class="absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"></div>

      <div class="relative z-10 flex flex-col gap-6">
        <div class="flex items-start justify-between">
          <div class="text-white dark:text-white">
            <div id="clock" class="text-5xl md:text-6xl font-extrabold leading-none drop-shadow-lg">21<span id="clock-min" class="text-3xl">:27</span></div>
            <div id="date" class="mt-1 uppercase tracking-wide text-xs text-amber-100/90">Fri 8 August</div>
          </div>

          <div class="flex items-center gap-2">
            <button id="themeToggle" aria-label="Toggle theme" class="p-2 rounded-full glass shadow-md focus-ring">
              <svg id="themeIcon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 3v1m0 16v1m8.66-8.66h-1M4.34 12h-1M18.36 5.64l-.7.7M6.34 17.66l-.7.7M18.36 18.36l-.7-.7M6.34 6.34l-.7-.7M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </button>
          </div>
        </div>

        <div class="mt-4 p-4 rounded-2xl shadow-2xl glass" style="z-index:5">
          <h2 class="font-semibold text-lg text-center text-slate-900 dark:text-white ">Day Planner</h2>
          <p class="text-xs text-slate-700 dark:text-slate-300/80 text-center">Plan your day &amp; stay on track</p>

          <div class="mt-4 flex gap-2 justify-center items-center">
            <button id="resetBtn" class="px-3 py-1 rounded-full bg-slate-800 text-white text-sm shadow hover:scale-105 transition-transform focus-ring">Reset</button>
            <button id="clearBtn" class="px-3 py-1 rounded-full bg-white/90 text-slate-800 text-sm shadow hover:scale-105 transition-transform focus-ring">Clear All</button>
          </div>
        </div>

        <div class="mt-auto text-xs text-white/80">Made with ♥ Arup &copy 2025</div>
      </div>
    </aside>

    <!-- Right planner column -->
    <main class="flex-1 p-4 md:p-8 lg:p-12 bg-transparent">
      <div class="max-w-4xl mx-auto">
        <div class="bg-white dark:bg-slate-900 rounded-3xl shadow-xl overflow-hidden planner-scroll max-h-[78vh] md:max-h-[82vh] p-4 sm:p-6">

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4 items-center">
            <div>
              <h3 class="text-slate-900 dark:text-white text-xl font-bold">Today's Schedule</h3>
              <p class="text-sm text-slate-500 dark:text-slate-300/80">Fill each slot — tasks are saved automatically</p>
            </div>
            <div class="flex gap-3 justify-start sm:justify-end items-center">
              <label class="flex items-center gap-2 text-sm text-slate-500 dark:text-slate-300/80">
                <input id="autoSave" type="checkbox" class="h-4 w-4" checked /> Auto-save
              </label>
              <button id="exportBtn" class="px-3 py-1 bg-emerald-400 text-white rounded-lg text-sm shadow hover:translate-y-[-2px] transition focus-ring">Export JSON</button>
            </div>
          </div>

          <!-- planner list -->
          <div id="slots" class="space-y-3">
            <!-- JS will populate time slots here -->
          </div>

        </div>
      </div>
    </main>
  </div>

  <!-- Clear confirmation modal -->
  <div id="modal" class="fixed inset-0 bg-black/40 hidden items-center justify-center z-50">
    <div class="bg-white dark:bg-slate-800 rounded-xl p-6 shadow-2xl w-11/12 max-w-md" style="animation:popIn .18s ease-out">
      <h4 class="text-lg font-semibold text-slate-900 dark:text-white">Clear all tasks?</h4>
      <p class="text-sm text-slate-600 dark:text-slate-300/80 mt-2">This will permanently remove all saved tasks from your browser. You can export before clearing.</p>
      <div class="mt-4 flex gap-3 justify-end">
        <button id="cancelModal" class="px-3 py-1 rounded bg-slate-100 dark:bg-slate-700">Cancel</button>
        <button id="confirmClear" class="px-3 py-1 rounded bg-red-500 text-white">Clear</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
